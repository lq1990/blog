---
title: 谷粒电商-004-分布式和RPC框架原理
date: 2020-02-15 13:21:13
tags:
    - 谷粒电商
    - 分布式与集群
---

# 分布式
## 什么是分布式？
分布式系统是若干个独立计算机的集合，这些计算机对于用户来说就像单个相关系统。
分布式系统是建立在网络之上的软件系统。

## 分布式与集群的关系
集群指的是将几台服务器集中在一起，实现同一业务。
分布式中的每一个节点，都可以作集群。而集群并不一定就是分布式的。

分布式：实现高性能
集群：  实现高可用

## RPC是什么？
Remote Procedure Call 远程过程调用，是一种**进程间通信方式**。
他来解决分布式系统的各个服务之间互相交互的问题。
RPC只是一个概念。

进程间调用方式还有：
- http

### 进程内调用
A {
    User user = bService.fn(obj);
}

### 进程间调用
A {
    // User user = bService.fn(obj);
    // 方式1. 给b服务器发送一个http请求，拿来返回的数据即可。
    // 方式2. 走RPC
    User user = bServiceProxy.fn(obj); // 核心是proxy，借助框架
    // 步骤1. 和b建立连接
    // 步骤2. 将调用信息序列化发送给b
    // 步骤3. b调用完成，将结果反序列化给a

}

RPC框架：
- Dubbo: Java
- Thrift: 跨语言的

### RPC基本原理
![](/images/谷粒电商/RPC原理图.png)



